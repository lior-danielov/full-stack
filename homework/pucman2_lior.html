<canvas id="myCanvas" width="400" height="300" style="border:1px solid;"></canvas> 
<br> 
<p>X:</p> 
<p id="x_value">--</p> 
<p>Y:</p> 
<p id="y_value">--</p> 
 
<script> 
    //--------------------functions----------------------- 
 
    function keyDownEventHandler() { 
        if (event.keyCode == 40) 
            direction = "down"; 
        if (event.keyCode == 38) 
            direction = "up"; 
        if (event.keyCode == 37) 
            direction = "left"; 
        if (event.keyCode == 39) 
            direction = "right"; 
    } 
 
    function TimeEventHandler() { 
         
        for(var i=0 ; i<bricks.length ; i++) 
          if( ( x==bricks[i].x-20 )  && ( y==bricks[i].y )  && ( direction == "right" ) ) 
            direction="stop"; 
 
        if (direction == "right") 
            x += 20; 
        if (direction == "left") 
            x -= 20; 
        if (direction == "up") 
            y -= 20; 
        if (direction == "down") 
            y += 20; 
 
        document.getElementById("x_value").innerHTML = x; 
        document.getElementById("y_value").innerHTML = y; 
 
        //clean 
        ctx.fillStyle = 'white'; 
        ctx.fillRect(0, 0, 400, 300); 
        //draw player  
        ctx.fillStyle = "black"; 
        ctx.fillRect(x, y, 20, 20); 
 
        //draw bricks  
        ctx.fillStyle = "blue"; 
 
        for(var i=0 ; i<bricks.length ; i++) 
          ctx.fillRect(bricks[i].x, bricks[i].y, 20, 20); 
    } 
 
    //----------------------------------------------------- 
 
    ctx = document.getElementById('myCanvas').getContext('2d'); 
 
    x = 100; 
    y = 100; 
    direction = "right"; 
 
    var map = Array( 
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1, 
    1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1); 
     
    bricks = new Array(); 
 
    map_x = 0; 
    map_y = 0;       
    for (var i = 0; i < map.length; i++)  
    {    
        if(map[i]==1)  
        {        
            map_x=i%20; 
            map_y= Math.floor(i/20);     
            bricks.push( { x: map_x*20, y: map_y*20 } ); 
        }    
    }    
 
 
    ctx.fillStyle = "black"; 
    ctx.fillRect(x, y, 20, 20); 
 
    setInterval(TimeEventHandler, 300); 
 
    document.onkeydown = keyDownEventHandler; 
 
</script> 